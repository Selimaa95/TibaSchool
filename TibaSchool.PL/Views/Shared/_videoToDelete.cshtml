@model IEnumerable<VideoVM>

<table style="width:100%; text-align:center" class="table table-bordered">
    <tr>
        <td>
            <b>Title</b>
        </td>
        <td>
            <b>Path</b>
        </td>
        <td>
            <b>Image</b>
        </td>
        <td>
            <b>Edit</b>
        </td>
        <td>
            <input type="checkbox" id="checkBoxAll" class="custom-checkbox" />
        </td>
    </tr>
    @{
        foreach (var item in Model)
        {
            <tr>
                <td>
                    <input type="text" id="Title_@item.Id" value="@item.Name" class="form-control" />
                </td>
                <td>
                    <input type="text" id="Path_@item.Id" value="@item.Path" class="form-control" />
                </td>
                <td>
                    <img width="100" src="~/Files/ImagesGallery/@item.ImageName" alt="@item.Name" />
                </td>
                <td>
                    <button class="btn btn-warning" onclick="return Edit(@item.Id)">Edit</button>
                </td>
                <td>
                    <input type="checkbox" name="VideoId" value="@item.Id" class="custom-checkbox chkCheckBoxId" />
                </td>
            </tr>
        }
    }
</table>

<script>
    $(document).ready(function () {

        $('#checkBoxAll').click(function () {
            if ($(this).is(":checked")) {
                $(".chkCheckBoxId").prop("checked", true)
            }
            else {
                $(".chkCheckBoxId").prop("checked", false)
            }
        });

    });

    function Edit(id) {

        $("#Title_" + id).css("border-color", "#cccccc");
        $("#Path_" + id).css("border-color", "#cccccc");

        var title = $("#Title_" + id).val();
        var path = $("#Path_" + id).val();

        if (title == "") {
            $("#Title_" + id).css("border-color", "red");
        }

        if (path == "") {
            $("#Path_" + id).css("border-color", "red");
        }

        if (title != "" && path != "") {
            $.ajax({
                url: '@Url.Action("EditRowVideo")',
                data: { VideoId: id, Name: title, Path: path },
                type: 'POST',
                dataType: 'json',
                success: function (data) {
                    alert("Updated Successfully!");
                },
                error: function (err) {
                    console.log(err);
                }
            });
        }

        return false;

    }

</script>

